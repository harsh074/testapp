<ion-view class="home-view" view-title="<i class='logoSideMenu'></i>">
	<ion-content scroll="false">
		<div class="shortHeader">
			<h1 class="title">View Question</h1>
      <div class="shortHeaderBtn" ng-if="loginType=='user'">
        <a class="shortHeaderIcon" ng-if="question.questionTag=='Match Making'" ng-click="viewPartnerDetails()"><i class="icon ion-person-add"></i></a>
        <a class="shortHeaderIcon" ng-if="question.status=='asked' || question.status=='direct'" ng-click="editQuestion()"><i class="icon ion-edit"></i></a>
      </div>
      <div class="shortHeaderCustomBtn" ng-if="loginType=='monk' && question.status == 'underObservation'">
        <!-- <a class="shortHeaderIcon"><i class="icon ion-paper-airplane"></i></a> -->
        <button class="button button-custom button-small" ng-click="postAnswer()">Answer</button>
      </div>
      <div class="ratingMonkQuestion" ng-if="loginType=='monk' && question.status == 'rated'">
        <rating ng-model="question.rating" max="5" readonly="true" ng-click="rateQuestion()"></rating>
      </div>
		</div>
	</ion-content>
	<ion-content class="row singleQuestion dashboardData paddingLRPlus21" scroll="true" delegate-handle="mainScroll">
		<div class="questionData">
      
      <div class="question">{{question.question}}</div>

      <div class="middleSec">
        <p class="answer" ng-if="loginType=='user'">{{question.answer ? question.answer: "Experts on it! Will be answered soon."}}</p>
        <p class="answer" ng-if="loginType=='monk' && (question.status=='answered' || question.status=='rated')">{{question.answer}}</p>
        <p class="answer" ng-if="loginType=='monk' && question.status=='underObservation' && writtenAnswer">{{writtenAnswer}}</p>
        <p class="solutionHeading" ng-if="question.solution||writtenSolution">Remedy</p>
        <p class="answer solutionText" ng-if="loginType=='user'&& (question.status=='answered' || question.status=='rated')">{{question.solution}}</p>
        <p class="answer solutionText" ng-if="loginType=='monk' && (question.status=='answered' || question.status=='rated')">{{question.solution}}</p>
      	<p class="answer solutionText" ng-if="loginType=='monk' && question.status=='underObservation' && writtenSolution">{{writtenSolution}}</p>
        <p class="yogiName" ng-if="question.monkName && loginType=='user' && (question.status=='answered' || question.status=='rated')">Answered by <span ng-click="showMonkPage()">{{question.monkName ? question.monkName: "Sunil"}}</span></p>
      	<p class="yogiName" ng-if="question.monkName && loginType=='user' && (question.status=='direct' || question.status=='asked')">Asked to {{question.monkName ? question.monkName: "Sunil"}}</p>
     	</div>

      <!-- User Bottom -->
      <div class="subBottom" ng-if="loginType=='user'">
        <p class="tagName" ng-if="question.status!='fullAnalysis'">Tag : <span>{{question.questionTag}}</span></p>
      	<p class="tagName" ng-if="question.status=='fullAnalysis'">Tag : <span>{{question.displayTag}}</span></p>
      	<p class="questionTime" ng-if="question.status=='answered' || question.status=='rated'">Answered {{question.answeredOn | timeago}}</p>
      	<p class="questionTime" ng-if="question.status=='asked' || question.status=='direct' || question.status=='fullAnalysis'">Asked {{question.askedOn | timeago}}</p>
        <p class="moneyTypeUser" ng-if="question.predictionDurationMonths">Prediction uptil {{question.predictionDurationMonths | timeLineFiter}}</p>
      	<p class="ratingQuestion" ng-if="question.status=='answered' || question.status=='rated'">How Satisfied are you ?</p>
      	<div class="answerRating" ng-if="question.status=='answered'">
          <rating ng-model="question.rating" max="5" ng-if="!ratingSubmitted"></rating>

          <button class="button button-custom button-small" ng-if="!ratingSubmitted" ng-click="rateQuestion()">Submit</button>
        </div>
        <div class="answerRating" ng-if="question.status=='rated'">
          <rating ng-model="question.rating" max="5" readonly="!ratingEdit"></rating>
          <button class="button button-custom button-small" ng-click="rateQuestion()" ng-if="ratingEdit">Save</button>
          <button class="button button-custom button-small" ng-click="ratingEditing()" ng-if="!ratingEdit">Edit</button>
        </div>
      </div>

      <!-- Monk Bottom -->
      <div class="subBottom" ng-if="loginType=='monk'">
        <p class="tagName">Tag : <span>{{question.questionTag}}</span></p>
        <p class="questionTime">{{question.askedOn | timeago}}</p>
        <div>
          <p class="moneyType" ng-if="question.predictionDurationMonths">Prediction uptil {{question.predictionDurationMonths | timeLineFiter}}</p>
          <button class="button button-custom button-small btnUserDetails" ng-click="userDetail()">User Details</button>
        </div>
        <div class="row">
          <div class="col">Name:&nbsp;<span>{{question.name.split(' ')[0]}}</span></div>
          <div class="col">Time:&nbsp;<span>{{question.userBirthTime | date : 'h:mm a'}}</span></div>
        </div>
        <div class="row">
          <div class="col">DOB:&nbsp;<span>{{question.userDOB | date : 'dd-MM-yyyy'}}</span></div>
          <div class="col">Age:&nbsp;<span>{{question.userDOB | ageFilter}} Years</span></div>
        </div>
        <div class="row">
          <div class="col">Gender:&nbsp;<span>{{question.userGender}}</span></div>
          <div class="col">Place:&nbsp;<span>{{question.userBirthPlace}}</span></div>
        </div>
        <div class="row" ng-if="question.status=='asked' || question.status=='direct'">
          <div class="col btnAccept fullLengthButton">
            <button class="button button-custom button-small" ng-click="askBeforeAccept()">Accept</button>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <button class="button button-custom button-small partnerDetailBtn" ng-click="viewPartnerDetails()" ng-if="question.questionTag == 'Match Making'">Partner Details</button>
          </div>
        </div>
        <div class="row">
          <div class="col fullLengthButton">
            <button class="button button-custom button-small" ng-if="question.status=='underObservation'" ng-click="openWriteModal()">Write Answer</button>
          </div>
        </div>
        <div class="row">
          <div class="col fullLengthButton">
            <button class="button button-custom button-small" ng-if="question.status=='underObservation'" ng-click="openWriteSolutionModal()">Write Solution</button>
          </div>
        </div>

        <!-- <div class="row">
          <div class="answerRating col" ng-if="question.status=='rated'">
            <p style="font-size: 18px;margin:5px 0px;" ng-if="question.status=='rated'">Here is your rating.</p>
            <rating ng-model="question.rating" max="5" readonly="true" ng-click="rateQuestion()"></rating>
          </div>
        </div> -->
      </div>
		</div> 
	</ion-content>
	<div ng-click="askQuestion()" class="floatingButton" ng-class="{'floatBtn':floatingBtnAction}" ng-if="loginType=='user' && question.status=='asked'">
		<i class="icon ion-android-add"></i>
		<!-- <img src="img/flyout_icon.jpg" /> -->
	</div>
</ion-view>